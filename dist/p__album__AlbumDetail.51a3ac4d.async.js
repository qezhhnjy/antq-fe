(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3829],{99165:function(U,v,t){"use strict";t.d(v,{Z:function(){return g}});var r=t(28991),s=t(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},i=u,M=t(27029),d=function(p,E){return s.createElement(M.Z,(0,r.Z)((0,r.Z)({},p),{},{ref:E,icon:i}))};d.displayName="CopyOutlined";var g=s.forwardRef(d)},73171:function(U,v,t){"use strict";t.d(v,{Z:function(){return g}});var r=t(28991),s=t(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=u,M=t(27029),d=function(p,E){return s.createElement(M.Z,(0,r.Z)((0,r.Z)({},p),{},{ref:E,icon:i}))};d.displayName="DeleteOutlined";var g=s.forwardRef(d)},78108:function(U,v,t){"use strict";t.r(v),t.d(v,{Content:function(){return k}});var r=t(71748),s=t(33860),u=t(48736),i=t(27049),M=t(64896),d=t(37744),g=t(402),f=t(95574),p=t(12968),E=t(62462),G=t(49111),I=t(19650),J=t(43185),x=t(94412),l=t(57663),a=t(71577),h=t(34792),D=t(48086),n=t(71153),y=t(60331),O=t(37730),P=t(33565),W=t(13062),L=t(71230),N=t(89032),_=t(15746),C=t(67294),T=t(93179),it=t(58533),Q=t(71455),K=t(9684),S=t(96534),dt=t(62298),X=t(73171),ut=t(21444),ct=t(38296),w=t(17474),e=t(85893),vt=10,j=JSON.parse(localStorage.getItem("token")||"{}"),k=function(Z){var b=Z.children,z=Z.extraContent,m=Z.left;return m?(0,e.jsxs)(L.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{children:z}),(0,e.jsx)(_.Z,{style:{flex:1},children:b})]}):(0,e.jsxs)(L.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{style:{flex:1},children:b}),(0,e.jsx)(_.Z,{children:z})]})},Et=function(){var Z,b=(0,C.useState)((K.m===null||K.m===void 0||(Z=K.m.location)===null||Z===void 0?void 0:Z.state)||{}),z=(0,P.Z)(b,1),m=z[0],H=m.id,q=m.title,ft=m.station,ht=m.cover,Dt=m.count,V=m.tag,Ot=m.author,tt=m.model,Pt=m.summary,Mt=(0,C.useState)(),et=(0,P.Z)(Mt,2),gt=et[0],pt=et[1],yt=(0,C.useState)([]),nt=(0,P.Z)(yt,2),A=nt[0],Y=nt[1],at=gt||{},rt=at.pageNum,Ct=rt===void 0?0:rt,st=at.nextPage,Tt=st===void 0?0:st,Zt=(0,C.useState)(!1),lt=(0,P.Z)(Zt,2),$=lt[0],At=lt[1],It=(0,C.useState)(!1),_t=(0,P.Z)(It,2),F=_t[0],Lt=_t[1],ot=function(B){return(0,T.vz)({albumId:B,pageNum:Ct+1,pageSize:vt}).then(function(c){var R;pt(c==null?void 0:c.data),Y([].concat((0,O.Z)(A),(0,O.Z)((c==null||(R=c.data)===null||R===void 0?void 0:R.list)||[])))})};return(0,C.useEffect)(function(){H===void 0?(0,w.Br)(w.jR,null):ot(H)},[]),(0,e.jsxs)("div",{style:{margin:"0 6%"},children:[(0,e.jsx)(d.Z,{style:{border:"1px solid rgb(235, 237, 240)"},onBack:function(){return K.m.goBack()},title:q,subTitle:"".concat(Dt,"P"),tags:[(0,e.jsx)(y.Z,{color:S.dj,children:tt},"model"),(0,e.jsx)(y.Z,{color:S.dj,children:ft},"station"),(0,e.jsx)(y.Z,{color:S.dj,children:Ot},"author")].concat((0,O.Z)((V==null?void 0:V.split(",").map(function(o){return(0,e.jsx)(y.Z,{color:S.dj,children:o},o)}))||[])),extra:(0,e.jsxs)(I.Z,{size:"large",children:[(0,e.jsx)(x.Z,{action:"/antq/web/album/add-pic",data:{albumId:H},headers:{Authorization:(j==null?void 0:j.token_type)+" "+(j==null?void 0:j.access_token)},showUploadList:!1,listType:"picture",onChange:function(B){if(B.file.status==="done"){var c=B.file.response,R=c.data,jt=c.code,xt=c.msg;jt===1e3?(Y([R].concat((0,O.Z)(A))),D.ZP.success("\u4E0A\u4F20\u6210\u529F")):D.ZP.error(xt)}},children:(0,e.jsx)(a.Z,{icon:(0,e.jsx)(dt.Z,{}),type:"primary",children:"\u4E0A\u4F20"})}),(0,e.jsx)(X.Z,{onClick:function(){return Lt(!F)},style:{fontSize:20,color:F?"gray":"orangered"}},"del"),(0,e.jsx)("div",{onClick:function(){return At(!$)},children:$?(0,e.jsx)(ut.Z,{style:{fontSize:20}}):(0,e.jsx)(ct.Z,{style:{fontSize:20}})},"full")]}),children:(0,e.jsxs)(k,{left:!0,extraContent:(0,e.jsx)(E.Z,{width:120,height:120,preview:!1,style:{objectFit:"cover"},src:ht,alt:q}),children:[(0,e.jsx)(f.Z.Title,{level:4,children:tt}),(0,e.jsx)(f.Z.Paragraph,{children:Pt})]})}),(0,e.jsx)(i.Z,{orientation:"left",plain:!0,dashed:!0,children:(0,e.jsx)(f.Z.Text,{type:"secondary",style:{fontSize:12},strong:!0,children:"\u56FE\u7247\u5C55\u793A"})}),(0,e.jsx)(it.Z,{dataLength:(A==null?void 0:A.length)||0,next:function(){return ot(H)},hasMore:Tt!==0,loader:(0,e.jsx)(s.Z,{avatar:!0,paragraph:{rows:1},active:!0}),endMessage:(0,e.jsx)(i.Z,{plain:!0,children:"It is all, nothing more \u{1F910}"}),scrollableTarget:"scrollableDiv",children:(0,e.jsx)("div",{className:"photo",children:(0,e.jsx)(Q.TV,{bannerVisible:!1,maskOpacity:.5,children:A.map(function(o){return(0,e.jsxs)(I.Z,{direction:"vertical",style:{margin:10,border:"1px solid rgba(158,158,158,.05)"},children:[F?(0,e.jsx)(X.Z,{onClick:function(){(0,T.xM)(o.id).then(function(){return Y((0,O.Z)(A.filter(function(c){return c.id!==o.id})))})},style:{fontSize:20,textAlign:"end",visibility:F?"visible":"hidden",color:"orangered",opacity:.6}}):(0,e.jsx)(e.Fragment,{}),(0,e.jsx)(Q.HI,{src:o.url,children:$?(0,e.jsx)("img",{src:o.url,style:{maxWidth:"98%",margin:"1%"},alt:""}):(0,e.jsx)("img",{src:o.url,className:"img",style:{maxHeight:280,margin:5},alt:""})})]},o.id)})})})})]})};v.default=Et},93179:function(U,v,t){"use strict";t.d(v,{vz:function(){return M},U8:function(){return g},RA:function(){return p},xM:function(){return G},Ac:function(){return J}});var r=t(71343),s=t(96132),u=t(57361),i=t(21704);function M(l,a){return d.apply(this,arguments)}function d(){return d=(0,u.Z)((0,r.Z)().mark(function l(a,h){return(0,r.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.WY)("/antq/web/album/info-page",(0,s.Z)({method:"POST",data:a},h||{})));case 1:case"end":return n.stop()}},l)})),d.apply(this,arguments)}function g(l,a){return f.apply(this,arguments)}function f(){return f=(0,u.Z)((0,r.Z)().mark(function l(a,h){return(0,r.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.WY)("/antq/web/album/album-page",(0,s.Z)({method:"POST",data:a},h||{})));case 1:case"end":return n.stop()}},l)})),f.apply(this,arguments)}function p(l,a){return E.apply(this,arguments)}function E(){return E=(0,u.Z)((0,r.Z)().mark(function l(a,h){return(0,r.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.WY)("/antq/web/album/delete",(0,s.Z)({params:{id:a},method:"DELETE"},h||{})));case 1:case"end":return n.stop()}},l)})),E.apply(this,arguments)}function G(l,a){return I.apply(this,arguments)}function I(){return I=(0,u.Z)((0,r.Z)().mark(function l(a,h){return(0,r.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.WY)("/antq/web/album/delete-pic",(0,s.Z)({params:{id:a},method:"DELETE"},h||{})));case 1:case"end":return n.stop()}},l)})),I.apply(this,arguments)}function J(l,a){return x.apply(this,arguments)}function x(){return x=(0,u.Z)((0,r.Z)().mark(function l(a,h){var D,n,y,O,P,W,L,N,_;return(0,r.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return D=a.title,n=a.station,y=a.cover,O=a.tag,P=a.author,W=a.model,L=a.summary,N=a.file,_=new FormData,_.append("file",N[0].originFileObj),D&&_.append("title",D),n&&_.append("station",n),y&&_.append("cover",y),O&&_.append("tag",O),P&&_.append("author",P),W&&_.append("model",W),L&&_.append("summary",L),T.abrupt("return",(0,i.WY)("/antq/web/album/upload",(0,s.Z)({method:"POST",headers:{"Content-Type":"multipart/form-data"},data:_},h||{})));case 11:case"end":return T.stop()}},l)})),x.apply(this,arguments)}},17474:function(U,v,t){"use strict";t.d(v,{Ld:function(){return s},Gp:function(){return u},_h:function(){return i},UD:function(){return M},jR:function(){return d},Br:function(){return g}});var r=t(9684),s="/snowball/stock-info",u="/blog/detail",i="/util/vditor",M="/album/detail",d="/album/list",g=function(p,E){return r.m.push(p,E)}}}]);
