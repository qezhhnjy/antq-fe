(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1743],{20275:function(ut,A,t){"use strict";t.r(A);var T=t(86582),S=t(3182),M=t(13062),E=t(71230),K=t(71153),V=t(60331),u=t(2824),U=t(94043),P=t.n(U),l=t(67294),_=t(45779),C=t(94379),$=t(96534),D=t(97451),g=t(531),O=t(85893),W=function(){var H=(0,l.useRef)(),lt=(0,l.useState)([]),nt=(0,u.Z)(lt,2),G=nt[0],m=nt[1],J=(0,l.useState)([]),e=(0,u.Z)(J,2),at=e[0],dt=e[1],vt=(0,l.useState)([]),rt=(0,u.Z)(vt,2),ot=rt[0],z=rt[1],ft=(0,l.useState)([]),F=(0,u.Z)(ft,2),X=F[0],h=F[1],w=(0,l.useState)([]),it=(0,u.Z)(w,2),st=it[0],p=it[1],a=(0,l.useRef)();(0,l.useEffect)(function(){return a.current=setInterval(function(){var n;return(n=H.current)===null||n===void 0?void 0:n.reload()},5e3),function(){a.current&&clearInterval(a.current)}},[]);var f=[{dataIndex:"index",valueType:"indexBorder",width:40},{title:"\u5C5E\u6027",dataIndex:"prop",render:function(d){return(0,O.jsx)(V.Z,{style:{fontSize:"12px"},color:$.dj,children:d==null?void 0:d.toString().toUpperCase()})}},{title:"\u5C5E\u6027\u503C",dataIndex:"value"},{title:"\u8BF4\u660E",dataIndex:"desc"}];return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(E.Z,{gutter:10,style:{padding:5},children:[(0,O.jsx)(D.LineCard,{loading:!1,times:G,data:at,title:"\u5185\u5B58\u5360\u7528",subTitle:"(MB)",max:1024}),(0,O.jsx)(D.LineCard,{loading:!1,times:G,data:st,title:"QPS",max:1024}),(0,O.jsx)(D.LineCard,{loading:!1,times:G,data:ot,title:"\u7F51\u7EDC\u5165\u53E3KPS",max:1024}),(0,O.jsx)(D.LineCard,{loading:!1,times:G,data:X,title:"\u7F51\u7EDC\u51FA\u53E3KPS",max:1024})]}),(0,O.jsx)(C.ZP,{loading:!1,actionRef:H,columns:f,request:(0,S.Z)(P().mark(function n(){return P().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,_.T8)().then(function(j){var o,b,N,v;return m([].concat((0,T.Z)(G),[(0,g.XV)()])),(o=j.data)===null||o===void 0||o.filter(function(c){return c.prop==="USED_MEMORY"}).forEach(function(c){var et;return dt([].concat((0,T.Z)(at),[Number((et=Number(c.value)/(1024*1024))===null||et===void 0?void 0:et.toFixed(2))]))}),(b=j.data)===null||b===void 0||b.filter(function(c){return c.prop==="INSTANTANEOUS_INPUT_KBPS"}).forEach(function(c){return z([].concat((0,T.Z)(ot),[Number(c.value)]))}),(N=j.data)===null||N===void 0||N.filter(function(c){return c.prop==="INSTANTANEOUS_OUTPUT_KBPS"}).forEach(function(c){return h([].concat((0,T.Z)(X),[Number(c.value)]))}),(v=j.data)===null||v===void 0||v.filter(function(c){return c.prop==="INSTANTANEOUS_OPS_PER_SEC"}).forEach(function(c){return p([].concat((0,T.Z)(st),[Number(c.value)]))}),{data:j.data,success:!0}}));case 1:case"end":return x.stop()}},n)})),rowKey:function(d){return d.prop},toolBarRender:!1,pagination:!1,search:!1})]})};A.default=W},97451:function(ut,A,t){"use strict";t.r(A),t.d(A,{LineCard:function(){return h},default:function(){return st}});var T=t(13062),S=t(71230),M=t(32059),E=t(11849),K=t(2824),V=t(89032),u=t(15746),U=t(34669),P=t(32074),l=t(98858),_=t(4914),C=t(67294),$=t(45779),D=t(68023),g=t(8690),O=t(17813),W=t(31281),Y=t(68712),H=t(54377),lt=t(70012),nt=t(79813),G=t(65034),m=t(96534),J=t(96138),e=t(85893);D.D([g.N,O.N,W.N,Y.N,H.N,lt.N,nt.z]);var at=function(a){var f=a.style,n=a.xData,d=a.yData,x=a.title,j=a.min,o=j===void 0?0:j,b=a.max,N=b===void 0?100:b,v=a.name,c={dataZoom:[{type:"inside",start:0,end:100}],title:[{left:"center",text:x,textStyle:{fontSize:12,color:m.dj}}],visualMap:[{show:!1,type:"continuous",seriesIndex:0,inRange:{color:[J.Dg,m.dj,m.dj,J.Ss]},min:o+(N-o)*.4,max:N*.8}],tooltip:{trigger:"axis"},xAxis:[{data:n,axisTick:{show:!1},axisLabel:{show:!0,color:m.dj},axisLine:{show:!0,lineStyle:{color:m.dj}}}],yAxis:[{splitNumber:3,scale:!0,splitArea:{show:!1},splitLine:{show:!1},axisLabel:{show:!0,color:m.dj}}],grid:[{left:"13%",right:"0%",top:"10%",height:"80%"}],series:[{name:v,type:"line",showSymbol:!1,smooth:!0,data:d}]};return(0,e.jsx)(G.Z,{style:f,option:c})},dt=at,vt=t(84787),rt=t(52778),ot=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return a*100/f},z=10,ft=function(a){var f=a.record,n=[];for(var d in f)n.push((0,e.jsx)(_.Z.Item,{labelStyle:{color:m.dj},contentStyle:{color:m.dj},label:(0,e.jsx)("b",{children:d}),children:f[d]}));return(0,e.jsx)(_.Z,{column:1,size:"small",style:{height:200},children:n})},F=function(a){var f=a.used,n=f===void 0?0:f,d=a.total,x=d===void 0?100:d,j=a.suffix,o=ot(n,x);return(0,e.jsx)(P.Z,{style:{margin:"auto 0"},percent:o,steps:10,format:function(){return(0,e.jsx)("span",{style:{color:m.dj},children:"".concat(n.toFixed(1),"/").concat(x,"(").concat(j,")")})},strokeWidth:14,strokeColor:o<=30?J.Dg:o>=70?J.Ss:m.dj})},X=function(a){var f=a.used,n=f===void 0?0:f,d=a.suffix,x=n<100?n:Number((n+"").substring(0,2));return(0,e.jsx)(P.Z,{style:{margin:"auto 0"},percent:x,steps:10,format:function(){return(0,e.jsx)("span",{style:{color:m.dj},children:"".concat(n.toFixed(1),"(").concat(d,")")})},strokeWidth:14,strokeColor:m.dj})},h=function(a){var f=a.loading,n=a.times,d=a.data,x=a.title,j=a.subTitle,o=a.max;return(0,e.jsx)(u.Z,{xs:12,xl:6,style:{marginBottom:10},children:(0,e.jsx)(rt.Z,{loading:f,hoverable:!0,bordered:!0,title:(0,e.jsx)("b",{style:{color:m.dj},children:x}),subTitle:(0,e.jsx)("span",{style:{color:m.dj},children:j}),gutter:[0,20],style:{height:300},chart:(0,e.jsx)(dt,{style:{height:200},xData:n,yData:d,name:x,max:o})})})},w=function(a){var f=a.loading,n=a.record,d=a.title,x=a.subTitle;return(0,e.jsx)(u.Z,{xs:24,xl:6,style:{marginBottom:10},children:(0,e.jsx)(vt.ZP,{loading:f,hoverable:!0,bordered:!0,title:(0,e.jsx)("b",{style:{color:m.dj},children:d}),subTitle:(0,e.jsx)("span",{style:{color:m.dj},children:x}),gutter:[0,20],style:{height:340},children:(0,e.jsx)(ft,{record:n})})})},it=function(){var a=(0,C.useState)(),f=(0,K.Z)(a,2),n=f[0],d=f[1],x=(0,C.useState)([]),j=(0,K.Z)(x,1),o=j[0],b=(0,C.useState)(!0),N=(0,K.Z)(b,2),v=N[0],c=N[1],et=(0,C.useState)([]),_t=(0,K.Z)(et,1),B=_t[0],mt=(0,C.useRef)(),Et=function(){return(0,$.zk)().then(function(r){if(r!=null&&r.data){var s=r.data;o.push(s),B.push(s.now),d(s),v&&c(!1)}})};(0,C.useEffect)(function(){return Et().then(function(){return mt.current=setInterval(function(){return Et()},z*1e3)}),function(){mt.current&&clearInterval(mt.current)}},[]);var L=n||{},gt=L.system,jt=L.username,Z=L.java,k=L.jvmList,R=L.cpu,q=L.memory,tt=L.virtual,I=L.disk,ct=L.partitionList,xt=L.networkIFList,Dt=function(){var r={};return ct==null||ct.forEach(function(s){r=(0,E.Z)((0,E.Z)({},r),{},(0,M.Z)({},s.name,(0,e.jsx)(F,{used:s==null?void 0:s.used,total:s==null?void 0:s.total,suffix:"G"})))}),(0,E.Z)((0,E.Z)({},r),{},{\u8BFB\u53D6\u6570\u636E:(0,e.jsx)(X,{used:((I==null?void 0:I.write)||0)/1024,suffix:"G"}),\u5199\u5165\u6570\u636E:(0,e.jsx)(X,{used:((I==null?void 0:I.read)||0)/1024,suffix:"G"})})},ht=function(){var r={};return xt==null||xt.filter(function(s){var y;return((y=s.ipv4)===null||y===void 0?void 0:y.length)&&s.recv>0&&s.sent>0}).forEach(function(s){var y,Q=s.name,yt=s.recv,St=s.sent,Mt=s.ipv4,Pt=s.mac;r=(0,E.Z)((0,E.Z)({},r),{},(y={},(0,M.Z)(y,Q,(0,e.jsx)("b",{style:{color:m.dj},children:Mt})),(0,M.Z)(y,"mac\u5730\u5740",(0,e.jsx)("b",{style:{color:m.dj},children:Pt})),(0,M.Z)(y,Q+"\u63A5\u6536",(0,e.jsx)(X,{used:yt/(1024*1024),suffix:"G"})),(0,M.Z)(y,Q+"\u53D1\u9001",(0,e.jsx)(X,{used:St/(1024*1024),suffix:"G"})),y))}),r},Tt=function(){var r={\u540D\u79F0:Z==null?void 0:Z.name,\u7248\u672C:Z==null?void 0:Z.version,\u516C\u53F8:Z==null?void 0:Z.vendor,\u4FE1\u606F:Z==null?void 0:Z.info};return k==null||k.forEach(function(s){var y=s.name,Q=s.total,yt=s.used;r=(0,E.Z)((0,E.Z)({},r),{},(0,M.Z)({},y,(0,e.jsx)(F,{used:yt,total:Q,suffix:"M"})))}),r};return(0,e.jsxs)(S.Z,{gutter:10,style:{padding:5},children:[(0,e.jsx)(w,{loading:v,title:"\u7CFB\u7EDF\u4FE1\u606F",record:{\u7CFB\u7EDF:gt,\u7528\u6237\u540D:jt,CPU:R==null?void 0:R.name,\u6838\u5FC3\u6570:R==null?void 0:R.coreNum,\u7CFB\u7EDF\u8D1F\u8F7D:(0,e.jsx)(F,{used:(R==null?void 0:R.used)+(R==null?void 0:R.sys),suffix:"%"}),\u7269\u7406\u5185\u5B58:(0,e.jsx)(F,{used:q==null?void 0:q.used,total:q==null?void 0:q.total,suffix:"M"}),\u865A\u62DF\u5185\u5B58:(0,e.jsx)(F,{used:tt==null?void 0:tt.used,total:tt==null?void 0:tt.total,suffix:"M"}),\u78C1\u76D8\u7A7A\u95F4:(0,e.jsx)(F,{used:I==null?void 0:I.used,total:I==null?void 0:I.total,suffix:"G"})}}),(0,e.jsx)(w,{title:"JDK\u4FE1\u606F",loading:v,record:Tt()}),(0,e.jsx)(w,{title:"\u78C1\u76D8\u5206\u533A",loading:v,record:Dt()}),(0,e.jsx)(w,{title:"\u7F51\u5361",loading:v,record:ht()}),(0,e.jsx)(h,{loading:v,title:"CPU\u4F7F\u7528\u7387(%)",subTitle:"\u7528\u6237",times:B,data:o.map(function(i){return i.cpu.used})}),(0,e.jsx)(h,{loading:v,title:"CPU\u4F7F\u7528\u7387(%)",subTitle:"\u7CFB\u7EDF",times:B,data:o.map(function(i){return i.cpu.sys})}),(0,e.jsx)(h,{loading:v,title:"CPU\u7A7A\u95F2\u7387(%)",times:B,data:o.map(function(i){return i.cpu.free})}),(0,e.jsx)(h,{loading:v,title:"CPU\u7B49\u5F85\u65F6\u95F4(ms)",times:B,data:o.map(function(i){return i.cpu.wait})}),(0,e.jsx)(h,{loading:v,title:"\u7269\u7406\u5185\u5B58",subTitle:(n==null?void 0:n.memory.total)+"M",times:B,data:o.map(function(i){return i.memory.used}),max:n==null?void 0:n.memory.max}),(0,e.jsx)(h,{loading:v,title:"\u865A\u62DF\u5185\u5B58",subTitle:(n==null?void 0:n.virtual.total)+"M",times:B,data:o.map(function(i){return i.virtual.used}),max:n==null?void 0:n.virtual.max}),(0,e.jsx)(h,{loading:v,title:"\u78C1\u76D8\u8BFB\u53D6",subTitle:"KB/S",times:B,data:o.map(function(i,r){return r===0?0:(i.disk.read-o[r-1].disk.read)/z}),max:2e4}),(0,e.jsx)(h,{loading:v,title:"\u78C1\u76D8\u5199\u5165",subTitle:"KB/S",times:B,data:o.map(function(i,r){return r===0?0:(i.disk.write-o[r-1].disk.write)/z}),max:1e4}),k==null?void 0:k.map(function(i){return(0,e.jsx)(h,{loading:v,title:i.name,subTitle:i.total+"M",times:B,data:o.map(function(r){var s,y;return(r==null||(s=r.jvmList)===null||s===void 0||(y=s.find(function(Q){return Q.name===i.name}))===null||y===void 0?void 0:y.used)||0}),max:i.total},i.name)}),(0,e.jsx)(h,{loading:v,title:"\u7F51\u7EDC\u53D1\u9001",subTitle:"KB/S",times:B,data:o.map(function(i,r){return r===0?0:(i.sent-o[r-1].sent)/z}),max:1024}),(0,e.jsx)(h,{loading:v,title:"\u7F51\u7EDC\u63A5\u6536",subTitle:"KB/S",times:B,data:o.map(function(i,r){return r===0?0:(i.recv-o[r-1].recv)/z}),max:1024})]})},st=it},531:function(ut,A,t){"use strict";t.d(A,{Lg:function(){return u},zO:function(){return U},XV:function(){return P},wx:function(){return l},MX:function(){return _},qf:function(){return C},ay:function(){return $}});var T=t(30381),S=t.n(T),M="yyyy-MM-DD",E="yyyy-MM-DD HH:mm:ss",K="HH:mm:ss",V="HH:mm",u=function(){return S()().format(M)},U=function(){return S()().format(E)},P=function(){return S()().format(K)},l=function(g){return S()(g).format(M)},_=function(g){return S()(g).format(E)},C=function(g){return S()(g).format(V)},$="2000-01-01"},34952:function(ut,A,t){"use strict";var T=t(22122),S=t(67294),M=t(15105),E=function(u,U){var P={};for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&U.indexOf(l)<0&&(P[l]=u[l]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,l=Object.getOwnPropertySymbols(u);_<l.length;_++)U.indexOf(l[_])<0&&Object.prototype.propertyIsEnumerable.call(u,l[_])&&(P[l[_]]=u[l[_]]);return P},K={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},V=S.forwardRef(function(u,U){var P=function(W){var Y=W.keyCode;Y===M.Z.ENTER&&W.preventDefault()},l=function(W){var Y=W.keyCode,H=u.onClick;Y===M.Z.ENTER&&H&&H()},_=u.style,C=u.noStyle,$=u.disabled,D=E(u,["style","noStyle","disabled"]),g={};return C||(g=(0,T.Z)({},K)),$&&(g.pointerEvents="none"),g=(0,T.Z)((0,T.Z)({},g),_),S.createElement("div",(0,T.Z)({role:"button",tabIndex:0,ref:U},D,{onKeyDown:P,onKeyUp:l,style:g}))});A.Z=V}}]);
